<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Профиль пользователя - Starbucks</title>
    <link rel="stylesheet" href="./style/starbucks.css" />
    <link rel="stylesheet" href="./style/signin.css" />
    <link rel="icon" type="image/png" href="./img/favicon/starbucks.png" />
    <script defer src="./starbucks.js"></script>
    <link
      href="https://db.onlinewebfonts.com/c/d7e8a95865396cddca89b00080d2cba6?family=SoDo+Sans+SemiBold"
      rel="stylesheet"
    />
    <style>
      .profile-container {
        max-width: 600px;
        margin: 0 auto;
        padding: 0 20px;
      }

      .profile-content {
        background-color: #fff;
        border-radius: 8px;
        padding: 40px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        margin-top: 40px;
      }

      .profile-header {
        text-align: center;
        margin-bottom: 30px;
        padding-bottom: 20px;
        border-bottom: 2px solid #00754a;
      }

      .profile-header h1 {
        color: #00754a;
        font-size: 28px;
        margin-bottom: 10px;
      }

      .profile-info {
        margin-bottom: 30px;
      }

      .info-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 15px 0;
        border-bottom: 1px solid #e9ecef;
      }

      .info-item:last-child {
        border-bottom: none;
      }

      .info-label {
        font-weight: 600;
        color: #666;
        font-size: 16px;
      }

      .info-value {
        color: #000;
        font-size: 16px;
        text-align: right;
      }

      .profile-actions {
        display: flex;
        gap: 15px;
        justify-content: center;
        flex-wrap: wrap;
      }

      .profile-btn {
        padding: 12px 24px;
        border-radius: 4px;
        border: 1px solid #ccc;
        background-color: white;
        color: #666;
        cursor: pointer;
        transition: all 0.3s ease;
        font-size: 16px;
        text-decoration: none;
        display: inline-block;
      }

      .profile-btn:hover {
        background-color: #f8f9fa;
        border-color: #999;
      }

      .profile-btn.primary {
        background-color: #00754a;
        color: white;
        border-color: #00754a;
      }

      .profile-btn.primary:hover {
        background-color: #005a3a;
        border-color: #005a3a;
      }

      .profile-btn.danger {
        background-color: #d62b1f;
        color: white;
        border-color: #d62b1f;
      }

      .profile-btn.danger:hover {
        background-color: #b91d1d;
        border-color: #b91d1d;
      }

      .welcome-message {
        background-color: #e8f5e8;
        border: 1px solid #00754a;
        border-radius: 4px;
        padding: 15px;
        margin-bottom: 20px;
        text-align: center;
        color: #00754a;
        font-weight: 600;
      }

      .not-authorized {
        text-align: center;
        color: #666;
        font-style: italic;
        margin-top: 40px;
      }

      @media (max-width: 768px) {
        .profile-content {
          padding: 20px;
        }

        .info-item {
          flex-direction: column;
          align-items: flex-start;
          gap: 5px;
        }

        .info-value {
          text-align: left;
        }

        .profile-actions {
          flex-direction: column;
        }

        .profile-btn {
          width: 100%;
          text-align: center;
        }
      }
    </style>
  </head>
  <body>
    <header class="header">
      <div class="container">
        <div class="wrapper">
          <div class="nav__left">
            <a href="index.html" class="logo__item">
              <img
                class="logo"
                src="./img/icons/starbucksLogo.png"
                alt="Starbucks logo"
              />
            </a>
            <ul class="menu">
              <li class="menu__list">
                <a href="#" class="menu__link">menu</a>
              </li>
              <li class="menu__list">
                <a href="#" class="menu__link">rewards</a>
              </li>
              <li class="menu__list">
                <a href="#" class="menu__link">gift cards</a>
              </li>
            </ul>
          </div>
          <div class="nav__right">
            <div class="right__flex-menu">
              <div class="find-store">
                <svg
                  aria-hidden="true"
                  class="valign-middle pr2"
                  focusable="false"
                  preserveAspectRatio="xMidYMid meet"
                  style="
                    width: 25px;
                    height: 25px;
                    overflow: visible;
                    fill: currentColor;
                  "
                  viewBox="0 0 24 24"
                >
                  <path
                    d="M12,11.475 C10.5214286,11.475 9.32142857,10.299 9.32142857,8.85 C9.32142857,7.401 10.5214286,6.225 12,6.225 C13.4785714,6.225 14.6785714,7.401 14.6785714,8.85 C14.6785714,10.299 13.4785714,11.475 12,11.475 M12,1.5 C7.85357143,1.5 4.5,4.7865 4.5,8.85 C4.5,14.3625 12,22.5 12,22.5 C12,22.5 19.5,14.3625 19.5,8.85 C19.5,4.7865 16.1464286,1.5 12,1.5"
                  ></path>
                </svg>
                Find a Store
              </div>
              <div class="sign">
                <a href="signin.html" class="btn__item">Sign in</a>
                <a href="join.html" class="btn__item">Join now</a>
              </div>
            </div>
            <div class="burger-menu-icon">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 24 24"
                fill="currentColor"
              >
                <path
                  fill-rule="evenodd"
                  d="M3 6.75A.75.75 0 013.75 6h16.5a.75.75 0 010 1.5H3.75A.75.75 0 013 6.75zM3 12a.75.75 0 01.75-.75h16.5a.75.75 0 010 1.5H3.75A.75.75 0 013 12zm0 5.25a.75.75 0 01.75-.75h16.5a.75.75 0 010 1.5H3.75A.75.75 0 013 17.25z"
                  clip-rule="evenodd"
                />
              </svg>
            </div>
          </div>
          <div class="burger__menu">
            <div class="burger-close">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 24 24"
                fill="currentColor"
              >
                <path
                  fill-rule="evenodd"
                  d="M5.47 5.47a.75.75 0 011.06 0L12 10.94l5.47-5.47a.75.75 0 111.06 1.06L13.06 12l5.47 5.47a.75.75 0 11-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 01-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 010-1.06z"
                  clip-rule="evenodd"
                />
              </svg>
            </div>
            <ul class="burger-flex-menu">
              <li class="burger-flex-menu__item">
                <a href="#">Menu</a>
              </li>
              <li class="burger-flex-menu__item">
                <a href="#">Rewards</a>
              </li>
              <li class="burger-flex-menu__item">
                <a href="#">Gift Cards</a>
              </li>
            </ul>
            <div class="burger-footer">
              <div class="burger-buttons">
                <a href="signin.html" class="burger-btn">Sign in</a>
                <a href="join.html" class="burger-btn burger-btn-primary"
                  >Join now</a
                >
              </div>
            </div>
          </div>
        </div>
      </div>
    </header>

    <main class="signin-main">
      <div class="profile-container">
        <div class="profile-content" id="profile-content">
          <!-- Контент будет загружен через JavaScript -->
        </div>
      </div>
    </main>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const currentUser = checkAuthStatus();
        const profileContent = document.getElementById("profile-content");

        if (currentUser) {
          // Пользователь авторизован - показываем профиль
          profileContent.innerHTML = `
            <div class="welcome-message">
              Добро пожаловать в ваш профиль Starbucks Rewards!
            </div>
            
            <div class="profile-header">
              <h1>Профиль пользователя</h1>
              <p>Управляйте своей учетной записью</p>
            </div>
            
            <div class="profile-info">
              <div class="info-item">
                <span class="info-label">Имя:</span>
                <span class="info-value">${currentUser.firstName}</span>
              </div>
              <div class="info-item">
                <span class="info-label">Фамилия:</span>
                <span class="info-value">${currentUser.lastName}</span>
              </div>
              <div class="info-item">
                <span class="info-label">Email:</span>
                <span class="info-value">${currentUser.email}</span>
              </div>
              <div class="info-item">
                <span class="info-label">Время последнего входа:</span>
                <span class="info-value">${new Date(
                  currentUser.loginTime
                ).toLocaleString()}</span>
              </div>
              <div class="info-item">
                <span class="info-label">Статус:</span>
                <span class="info-value">Активен</span>
              </div>
            </div>
            
            <div class="profile-actions">
              <a href="index.html" class="profile-btn primary">На главную</a>
              <button onclick="logout()" class="profile-btn danger">Выйти</button>
            </div>
          `;
        } else {
          // Пользователь не авторизован
          profileContent.innerHTML = `
            <div class="not-authorized">
              <h2>Доступ запрещен</h2>
              <p>Для просмотра профиля необходимо авторизоваться</p>
              <div class="profile-actions" style="margin-top: 20px;">
                <a href="signin.html" class="profile-btn primary">Войти</a>
                <a href="join.html" class="profile-btn">Зарегистрироваться</a>
              </div>
            </div>
          `;
        }
      });
    </script>
  </body>
</html>
